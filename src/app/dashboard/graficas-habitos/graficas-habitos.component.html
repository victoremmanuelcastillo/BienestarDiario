<!-- graficas-habitos.component.html -->
<div class="graficas-container">
    <h2>An√°lisis de H√°bitos</h2>
    
    <div class="filters">
      <div class="filter-group">
        <label for="view-select">Vista:</label>
        <select id="view-select" [(ngModel)]="selectedView" (change)="onViewChange()">
          <option value="daily">Diaria</option>
          <option value="monthly">Mensual</option>
        </select>
      </div>
      
      <div class="filter-group">
        <label for="category-select">Categor√≠a:</label>
        <select id="category-select" [(ngModel)]="selectedCategory" (change)="onCategoryChange()">
          <option *ngFor="let cat of categories" [value]="cat.value">
            {{ cat.icon }} {{ cat.name }}
          </option>
        </select>
      </div>
    </div>
    
    <div class="chart-container" [class.active]="selectedView === 'daily'">
      <h3>Progreso Diario</h3>
      <p class="chart-description">H√°bitos completados en los √∫ltimos 7 d√≠as</p>
      <div class="chart-wrapper">
        <canvas id="dailyHabitsChart"></canvas>
      </div>
    </div>
    
    <div class="chart-container" [class.active]="selectedView === 'monthly'">
      <h3>Progreso Mensual</h3>
      <p class="chart-description">H√°bitos completados en los √∫ltimos 6 meses</p>
      <div class="chart-wrapper">
        <canvas id="monthlyHabitsChart"></canvas>
      </div>
    </div>
    
    <div class="stats-summary">
      <h3>Resumen de Estad√≠sticas</h3>
      
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon">üìä</div>
          <div class="stat-content">
            <h4>Total de H√°bitos</h4>
            <p class="stat-number">{{ activities.length }}</p>
          </div>
        </div>
        
        <div class="stat-card">
          <div class="stat-icon">‚úÖ</div>
          <div class="stat-content">
            <h4>Completados (√öltimo Mes)</h4>
            <p class="stat-number">{{ getCompletedLastMonth() }}</p>
          </div>
        </div>
        
        <div class="stat-card">
          <div class="stat-icon">üî•</div>
          <div class="stat-content">
            <h4>Racha M√°xima</h4>
            <p class="stat-number">{{ getMaxStreak() }} d√≠as</p>
          </div>
        </div>
        
        <div class="stat-card">
          <div class="stat-icon">üèÜ</div>
          <div class="stat-content">
            <h4>Categor√≠a M√°s Activa</h4>
            <p class="stat-number">{{ getMostActiveCategory() }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>